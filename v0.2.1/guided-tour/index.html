<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guided tour · HOHQMesh.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://trixi-framework.github.io/HOHQMesh.jl/stable/guided-tour/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HOHQMesh.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Interactive mesh generation</span><ul><li><a class="tocitem" href="../interactive_overview/">Overview</a></li><li class="is-active"><a class="tocitem" href>Guided tour</a><ul class="internal"><li><a class="tocitem" href="#Mesh-from-a-control-file"><span>Mesh from a control file</span></a></li><li><a class="tocitem" href="#Build-a-mesh-from-scratch"><span>Build a mesh from scratch</span></a></li></ul></li><li><a class="tocitem" href="../interactive-api/">API</a></li><li><a class="tocitem" href="../CheatSheet/">Commands Cheat Sheet</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/introduction/">Overview</a></li><li><a class="tocitem" href="../tutorials/straight_outer_boundary/">Straight-sided outer boundary</a></li><li><a class="tocitem" href="../tutorials/curved_outer_boundary/">Curved outer boundary</a></li><li><a class="tocitem" href="../tutorials/spline_curves/">Spline curves</a></li><li><a class="tocitem" href="../tutorials/create_edit_curves/">Creating and editing curves</a></li></ul></li><li><span class="tocitem">Advanced topics &amp; developers</span><ul><li><a class="tocitem" href="../development/">Development</a></li><li><a class="tocitem" href="../github-git/">GitHub &amp; Git</a></li><li><a class="tocitem" href="../testing/">Testing</a></li></ul></li><li><a class="tocitem" href="../reference/">Reference</a></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Interactive mesh generation</a></li><li class="is-active"><a href>Guided tour</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Guided tour</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/trixi-framework/HOHQMesh.jl/blob/main/docs/src/guided-tour.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Guided-tour"><a class="docs-heading-anchor" href="#Guided-tour">Guided tour</a><a id="Guided-tour-1"></a><a class="docs-heading-anchor-permalink" href="#Guided-tour" title="Permalink"></a></h1><p>In this brief overview, we highlight two scripts from the <code>examples</code> folder that demonstrate the interactive mesh functionality of HOHQMesh.jl. In depth explanations of the functionality are provided in the <a href="../tutorials/introduction/#Tutorials">Tutorials</a>.</p><p>See the <a href="https://trixi-framework.github.io/HOHQMesh/">HOHQMesh documentation</a> for more details about its terminology and capabilities.</p><h2 id="Mesh-from-a-control-file"><a class="docs-heading-anchor" href="#Mesh-from-a-control-file">Mesh from a control file</a><a id="Mesh-from-a-control-file-1"></a><a class="docs-heading-anchor-permalink" href="#Mesh-from-a-control-file" title="Permalink"></a></h2><p>A first example script reads in an existing control file from the HOHQMesh examples collection and makes it into a <code>Project</code>. To run this example, execute</p><pre><code class="language-julia hljs">julia&gt; include(joinpath(HOHQMesh.examples_dir(), &quot;interactive_from_control_file.jl&quot;))</code></pre><p>This command will create mesh and plot files in the <code>out</code> directory.</p><h2 id="Build-a-mesh-from-scratch"><a class="docs-heading-anchor" href="#Build-a-mesh-from-scratch">Build a mesh from scratch</a><a id="Build-a-mesh-from-scratch-1"></a><a class="docs-heading-anchor-permalink" href="#Build-a-mesh-from-scratch" title="Permalink"></a></h2><p>A second example script <code>interactive_outer_boundary.jl</code> makes a new project consisting of an outer, circular boundary, and an inner boundary in the shape of an ice cream cone. To run this example, execute</p><pre><code class="language-julia hljs">julia&gt; include(joinpath(HOHQMesh.examples_dir(), &quot;interactive_outer_boundary.jl&quot;))</code></pre><p>For completeness, we provide the example script and walk-through each step in the construction of the <code>Project</code> below.</p><pre><code class="language-julia hljs">using HOHQMesh

# Create a new project with the name &quot;IceCreamCone&quot;, which will also be the
# name of the mesh, plot and stats files, written to output folder `out`.

p = newProject(&quot;IceCreamCone&quot;, &quot;out&quot;)

# Outer boundary for this example mesh is a complete circle. Add it into the project.

circ = newCircularArcCurve(&quot;outerCircle&quot;, [0.0, -1.0, 0.0], 4.0, 0.0, 360.0, &quot;degrees&quot;)
addCurveToOuterBoundary!(p, circ)

# Inner boundary is three curves. Two straight lines and a circular arc.
# Note the three curve are connected to ensure a counter-clockwise orientation
# as required by HOHQMesh

# Create the three interior curves. The individual names of each curve in the inner
# chain are used internally by HOHQMesh and are output as the given boundary names in
# the mesh file.

cone1    = newEndPointsLineCurve(&quot;cone1&quot;, [0.0, -3.0, 0.0], [1.0, 0.0, 0.0])
iceCream = newCircularArcCurve(&quot;iceCream&quot;, [0.0, 0.0, 0.0], 1.0, 0.0, 180.0, &quot;degrees&quot;)
cone2    = newEndPointsLineCurve(&quot;cone2&quot;, [-1.0, 0.0, 0.0], [0.0, -3.0, 0.0])

# Assemble the three curve in a closed chain oriented counter-clockwise. The chain
# name `IceCreamCone` is only used internally by HOHQMesh.

addCurveToInnerBoundary!(p, cone1, &quot;IceCreamCone&quot;)
addCurveToInnerBoundary!(p, iceCream, &quot;IceCreamCone&quot;)
addCurveToInnerBoundary!(p, cone2, &quot;IceCreamCone&quot;)

# Adjust some `RunParameters` and overwrite the defaults values. In this case, we
# set a new value for the boundary order polynomial representation and adjust the
# output mesh file format to be `sem`

setPolynomialOrder!(p, 4)
setPlotFileFormat!(p, &quot;sem&quot;)

# A background grid is required for the mesh generation. In this example we lay a
# background grid of Cartesian boxes with size 0.5.

addBackgroundGrid!(p, [0.5, 0.5, 0.0])

# Plot the project model curves and background grid

if isdefined(Main, :Makie)
    plotProject!(p, MODEL+GRID)
    @info &quot;Press enter to generate the mesh and update the plot.&quot;
    readline()
 else # Throw an informational message about plotting to the user
    @info &quot;To visualize the project (boundary curves, background grid, mesh, etc.), include `GLMakie` and run again.&quot;
 end

# Generate the mesh. This produces the mesh and TecPlot files `AllFeatures.mesh` and `AllFeatures.tec`
# and save them to the `out` folder. Also, if there is an active plot in the project `p` it is
# updated with the mesh that was generated.

generate_mesh(p)

# After the mesh successfully generates mesh statistics, such as the number of corner nodes,
# the number of elements etc., are printed to the REPL</code></pre><p>The first line creates a new project, where the mesh and plot file names will be derived from the project name, &quot;IceCreamCone&quot; written to the specified folder.</p><p>To develop the model, one adds curves to the outer boundary or to multiple inner boundaries, if desired. As in HOHQMesh, there are four curve classes currently available:</p><ul><li>Parametric equations</li><li>Cubic Splines</li><li>Lines defined by their end points</li><li>Circular arcs</li></ul><p>In the example, the outer boundary is a closed circular arc with center at [0.0, 0.0, 0.0] with radius 4, starting at zero and ending at 360 degrees. It is added to the project with <code>addCurveToOuterBoundary!</code>. You can add any number of curves to the outer boundary.</p><p>Similarly, you create curves and add them to as many inner boundaries that you want to have. In the example, there is one inner boundary, &quot;IceCreamCone&quot; made up of two straight lines and a half circular arc. Again, they are defined counter-clockwise.</p><p>For convenience, <code>newProject</code> will generate default run parameters used by HOHQMesh, like the plot file format and the smoother. The parameters can be edited with setter commands. For example, the script sets the polynomial order (default = 5) and the plot file format (default = &quot;skeleton&quot;).</p><p>One run parameter that must be set manually is the background grid. Since there is an outer boundary, that determines the extent of the domain to be meshed, so only the mesh size needs to be specified using</p><pre><code class="nohighlight hljs">addBackgroundGrid!(proj::Project, bgSize::Array{Float64})</code></pre><p>The example sets the background mesh size to be 0.1 in the x and y directions. The z component is ignored.</p><p>The script finishes by generating the quad mesh and plotting the results, as shown below</p><p><img src="https://user-images.githubusercontent.com/25242486/162193980-b80fb92c-2851-4809-af01-be856152514f.png" alt="iceCreamCone"/></p><p>Finally, the script returns the project so that it can be edited further, if desired.</p><p>To save a control file for HOHQMesh, simply invoke</p><pre><code class="nohighlight hljs">saveProject(proj::Project, outFile::String)</code></pre><p>where <code>outFile</code> is the name of the control file (traditionally with a .control extension). <code>saveProject</code> is automatically called when a mesh is generated.</p><p>Note, a third example script <code>interactive_outer_boundary_generic.jl</code> is identical to that which was explained above except that the function calls use the generic versions of functions, e.g., <code>new</code> or <code>add!</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../interactive_overview/">« Overview</a><a class="docs-footer-nextpage" href="../interactive-api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 13 October 2023 09:29">Friday 13 October 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
