<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · HOHQMesh.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://trixi-framework.github.io/HOHQMesh.jl/stable/interactive_overview/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HOHQMesh.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Interactive mesh generation</span><ul><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Workflow-and-basic-moves"><span>Workflow and basic moves</span></a></li><li><a class="tocitem" href="#Advanced"><span>Advanced</span></a></li></ul></li><li><a class="tocitem" href="../guided-tour/">Guided tour</a></li><li><a class="tocitem" href="../interactive-api/">API</a></li><li><a class="tocitem" href="../CheatSheet/">Commands Cheat Sheet</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/introduction/">Overview</a></li><li><a class="tocitem" href="../tutorials/straight_outer_boundary/">Straight-sided outer boundary</a></li><li><a class="tocitem" href="../tutorials/curved_outer_boundary/">Curved outer boundary</a></li><li><a class="tocitem" href="../tutorials/spline_curves/">Spline curves</a></li><li><a class="tocitem" href="../tutorials/create_edit_curves/">Creating and editing curves</a></li></ul></li><li><span class="tocitem">Advanced topics &amp; developers</span><ul><li><a class="tocitem" href="../development/">Development</a></li><li><a class="tocitem" href="../github-git/">GitHub &amp; Git</a></li><li><a class="tocitem" href="../testing/">Testing</a></li></ul></li><li><a class="tocitem" href="../reference/">Reference</a></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Interactive mesh generation</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/trixi-framework/HOHQMesh.jl/blob/main/docs/src/interactive_overview.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="InteractiveTool"><a class="docs-heading-anchor" href="#InteractiveTool">Overview</a><a id="InteractiveTool-1"></a><a class="docs-heading-anchor-permalink" href="#InteractiveTool" title="Permalink"></a></h1><p>The interactive functionality is an API to generate a quadrilateral (future: hexahedral) mesh using Julia. It serves as a front end to the HOHQMesh program, and is designed to let one build a meshing project interactively while graphically displaying the results.</p><p>Several scripts are available in the <code>examples</code> folder to get you started. These example scripts follow the naming convention of <code>interactive_*</code> where the phrase interactive indicates their association with this API and then trailing information will indicate what that script demonstrates. For instance, the file <code>interactive_spline_curves.jl</code> provides an interactive project that creates an manipulates splines for the inner boundaries before generating the mesh.</p><p>Below we provide a broad overview of the interactive mesh workflow. Further clarification on this workflow is provided in the <a href="../guided-tour/#Guided-tour">Guided tour</a>. Several <a href="../tutorials/introduction/#Tutorials">Tutorials</a> are also available to demonstrate this functionality.</p><h2 id="Workflow-and-basic-moves"><a class="docs-heading-anchor" href="#Workflow-and-basic-moves">Workflow and basic moves</a><a id="Workflow-and-basic-moves-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow-and-basic-moves" title="Permalink"></a></h2><p>The order of the workflow and basic moves follow a logical pattern: The project must be created first. Curves can be added at any time. The background grid can be added any time to the project. A mesh is usually generated after the model (curves) and background grid are completed.</p><p>To generate a mesh interactively you</p><ol><li><p>Create a project with a user given <code>projectName</code> and <code>folder</code> where any generated files are to be saved</p><pre><code class="nohighlight hljs">p = newProject(&lt;projectName&gt;, &lt;folder&gt;)</code></pre><p>Both of these input arguments are strings.</p></li><li><p>Create inner and outer boundary curves from the available types</p><pre><code class="nohighlight hljs">c = newEndPointsLineCurve(&lt;name&gt;, startLocation [x, y, z], endLocation [x, y, z])                               *Straight Line*
c = newCircularArcCurve(&lt;name&gt;, center [x, y, z], radius, startAngle, endAngle, units = &quot;degrees&quot; or &quot;radians&quot;) *Circular Arc*
c = newParametricEquationCurve(&lt;name&gt;, xEqn, yEqn, zEqn)                                                        *Parametric equation*
c = newSplineCurve(&lt;name&gt;, dataFile)                                                                            *Spline with data from a file*
c = newSpline(&lt;name&gt;, nKnots, knotsMatrix)                                                                      *Spline with given knot values*</code></pre><p>See <a href="../interactive-api/#Defining-curves">Defining curves</a> for further details on the different curve type currently supported by HOHQMesh.</p><p>The generic name for each of these curve creation methods is <code>new!</code>. The generic can be used instead of the longer descriptive name to save typing during interactive sessions, if desired.</p></li><li><p>Add curves to build the model to see what you have added,</p><pre><code class="nohighlight hljs">addOuterBoundaryCurve!(p, &lt;curveName&gt;)                      *Add outer boundary curve*
addInnerBoundaryCurve!(p, &lt;curveName&gt;, &lt;InnerBoundaryName&gt;) *Add curve to an inner boundary*</code></pre><p>For a single inner / outer boundary curve the command above directly adds the curve into the <code>Project</code>. If the inner / outer boundary curve is a chain of multiple curves then they must be added to the <code>Project</code> in an order which yields a closed curves with counter-clockwise orientation. See the <a href="../guided-tour/#Guided-tour">Guided tour</a> for an example of a chain of curves.</p><p>Curves can be added by using the generic <code>add!</code> function instead of the longer descriptive name to save typing during interactive sessions, if desired.</p></li><li><p>Visualize the project&#39;s model, if desired</p><pre><code class="nohighlight hljs">plotProject!(p, MODEL)</code></pre><p>Plots are updated in response to user interactions. However, to update the plot at any time, use</p><pre><code class="nohighlight hljs">updatePlot!(p, options)</code></pre><p>Options are <code>MODEL</code>, <code>GRID</code>, <code>MESH</code>, and <code>REFINEMENTS</code>. To plot combinations, sum the options, e.g. <code>MODEL</code>+<code>GRID</code> or <code>MODEL</code>+<code>MESH</code>. You normally are not interested in the background grid once the mesh is generated.</p><div class="admonition is-info"><header class="admonition-header">Visualization requirement</header><div class="admonition-body"><p>The interactive functionality uses <a href="https://github.com/JuliaPlots/Makie.jl/">Makie.jl</a> to visualize the <code>Project</code> information. Therefore, in addition to HOHQMesh.jl a user must load a Makie backend (for example, <a href="https://github.com/JuliaPlots/GLMakie.jl/">GLMakie</a> or <a href="https://github.com/JuliaPlots/CairoMakie.jl">CairoMakie</a>) if visualization is desired.</p></div></div></li><li><p>Set the background grid</p><p>When no outer boundary curve is present, the background grid can be set with</p><pre><code class="nohighlight hljs">addBackgroundGrid!(p, lower left [x,y,z], spacing [dx,dy,dz], num Intervals [nX,nY,nZ])</code></pre><p>Or</p><pre><code class="nohighlight hljs">addBackgroundGrid!(p, [top value, left value, bottom value, right value], num Intervals [nX,nY,nZ])</code></pre><p>The first method creates the rectangular boundary with extent <code>[x0[1], x0[1] + N*dx[1]]</code> by <code>[x0[2], x0[2] + N*dx[2]]</code>. The second method sets a rectangular bounding box with extent [top value, left value, bottom value, right value] and the number of elements in each direction. The first exists for historical reasons; the second is probably the easiest to use.</p><p>When an outer boundary is present the background grid can be set as</p><pre><code class="nohighlight hljs">addBackgroundGrid!(p, [dx, dy, dz])</code></pre><p>where the spacing controls the number of elements in each direction.</p><div class="admonition is-info"><header class="admonition-header">Background grid</header><div class="admonition-body"><p>A background grid is required by HOHQMesh. If one is not present in the <code>Project</code> and a user attempts to generate the mesh a warning is thrown.</p></div></div></li><li><p>Adjust meshing parameters, if desired. For instance, one can adjust the polynomial <code>order</code> in the <code>Project</code> for any curved boundaries by</p><pre><code class="nohighlight hljs">setPolynomialOrder!(p, order)</code></pre><p>The background grid size can be adjusted where we can set the grid size in the x and y directions, <code>dx</code> and <code>dy</code>, can be set separately</p><pre><code class="nohighlight hljs">setBackgroundGridSize!(p, 0.5, 0.25)</code></pre><p>See <a href="../interactive-api/#Controlling-the-mesh-generation">Controlling the mesh generation</a> for details on adjusting parameters already present in the <code>Project</code>.</p></li><li><p>Generate the mesh</p><pre><code class="nohighlight hljs">generate_mesh(p)</code></pre><p>The mesh file will be saved in <code>&lt;folder&gt;</code> with the name <code>&lt;projectName&gt;.mesh</code>. A HOHQMesh control file is automatically created from the contents of the <code>Project</code> and is also saved in that folder with the name <code>&lt;projectName&gt;.control</code>. This control file can be read in again later and modified, remeshed, etc. The function <code>generate_mesh</code> will print the mesh information and statistics, and will plot the mesh as in the figure above, if a plot is otherwise visible. If not, it can always be plotted with the <code>plotProject!</code> command.</p></li></ol><h2 id="Advanced"><a class="docs-heading-anchor" href="#Advanced">Advanced</a><a id="Advanced-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced" title="Permalink"></a></h2><p>All objects and information contained in the variable type <code>Project</code> are actually dictionaries of type <code>Dict{String, Any}</code>. Since Julia is not an object oriented language, the parameters and other parts of these internal dictionaries can be accessed and edited directly by key and value. However, if you do that, then certain features like <code>undo</code>/<code>redo</code> and automatic plot updating <strong>will not work</strong>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../guided-tour/">Guided tour »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Friday 24 June 2022 10:48">Friday 24 June 2022</span>. Using Julia version 1.6.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
